<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organigramme Decathlon - StructurÃ© par Axe</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <h1>ğŸŒ³ Organigramme Decathlon</h1>
            <p>Classification par Axes : PROCESS | SPORTS | TRANSVERSE</p>
            <div class="stats">
                <span id="total-count">Chargement...</span>
            </div>
        </div>

        <!-- NAVIGATION -->
        <div class="controls">
            <div class="dropdown-nav">
                <select id="view-selector" class="nav-select" onchange="showView(this.value)">
                    <option value="complete">ğŸŒ VUE GLOBALE</option>
                    <option value="process">ğŸ­ AXE PROCESS & ENG.</option>
                    <option value="sports">ğŸ‚ AXE SPORTS / MARQUES</option>
                    <option value="transverse">ğŸ”„ MÃ‰TIERS TRANSVERSES</option>
                </select>
            </div>
        </div>

        <!-- VUES (remplies dynamiquement par app.js) -->
        <div class="org-section active" id="section-complete"></div>
        <div class="org-section" id="section-process"></div>
        <div class="org-section" id="section-sports"></div>
        <div class="org-section" id="section-transverse"></div>

        <!-- LÃ‰GENDE -->
        <div class="legend-box">
            <h3>ğŸ“š Classification par Axes MÃ©tiers</h3>
            <div class="axis-grid">
                <div class="axis-card process">
                    <h4>ğŸ”µ AXE PROCESS</h4>
                    <p>Engineering, Industrialisation, Tests, Laboratoires, Manufacturing, Supply, MÃ©thodes</p>
                    <div class="count" id="count-process">0 postes</div>
                </div>
                <div class="axis-card sports">
                    <h4>ğŸ”´ AXE SPORTS / MARQUES</h4>
                    <p>Organisation par sport (Kipsta, Tribord, Btwin, etc.)</p>
                    <div class="count" id="count-sports">0 postes</div>
                </div>
                <div class="axis-card transverse">
                    <h4>ğŸŸ¢ MÃ‰TIERS TRANSVERSES</h4>
                    <p>QualitÃ©, Sustainability, Achats, Data, Digital, Support</p>
                    <div class="count" id="count-transverse">0 postes</div>
                </div>
            </div>
        </div>
    </div>

    <!-- BARRE ADMIN (masquÃ©e par dÃ©faut) -->
    <div id="admin-bar" class="admin-bar">
        <div class="admin-info">
            <span>ğŸ›¡ï¸ MODE ADMIN</span>
            <span id="admin-user-name">Utilisateur</span>
        </div>
        <div class="admin-actions">
            <button class="btn-admin" id="btn-export">ğŸ“¥ Exporter</button>
            <button class="btn-admin" id="btn-import">ğŸ“¤ Importer</button>
            <button class="btn-admin btn-logout" id="btn-logout">DÃ©connexion</button>
        </div>
    </div>

    <!-- BOUTON ACCÃˆS ADMIN (flottant) -->
    <div class="admin-trigger" onclick="openLoginModal()" title="AccÃ¨s Administrateur">ğŸ”’</div>

    <!-- MODAL CONNEXION -->
    <div id="login-modal" class="admin-modal-overlay">
        <div class="login-box">
            <h2>ğŸ” Connexion Admin</h2>
            <div class="form-group">
                <label>Identifiant</label>
                <input type="text" id="login-username" class="form-input" placeholder="Entrez votre identifiant">
            </div>
            <div class="form-group">
                <label>Mot de passe</label>
                <input type="password" id="login-password" class="form-input">
            </div>
            <div id="login-error" class="error-message" style="display:none;"></div>
            <div class="modal-actions">
                <button onclick="closeLoginModal()" class="btn-admin">Annuler</button>
                <button id="btn-login-submit" class="btn-login">Se connecter</button>
            </div>
        </div>
    </div>

    <!-- MODAL Ã‰DITION -->
    <div id="edit-modal" class="admin-modal-overlay">
        <div class="login-box edit-modal">
            <h2>âœï¸ Ã‰diter Personne</h2>
            <input type="hidden" id="edit-original-id">
            <div class="form-group">
                <label>Nom Complet</label>
                <input type="text" id="edit-name" class="form-input">
            </div>
            <div class="form-group">
                <label>Titre / Poste</label>
                <input type="text" id="edit-title" class="form-input">
            </div>
            <div class="form-group">
                <label>TÃ©lÃ©phone</label>
                <input type="text" id="edit-phone" class="form-input">
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="text" id="edit-email" class="form-input">
            </div>
            <div class="modal-actions">
                <button id="btn-edit-delete" class="btn-admin btn-delete">
                    ğŸ—‘ï¸ Supprimer
                </button>
                <button id="btn-edit-cancel" class="btn-admin">Annuler</button>
                <button id="btn-edit-save" class="btn-login">Enregistrer</button>
            </div>
        </div>
    </div>

    <input type="file" id="import-file" style="display: none;" accept=".js">

    <!-- Scripts -->
    <script src="data.js"></script>
    <script src="admin.js"></script>
    <script src="app.js"></script>
</body>
</html>
